# ターミナルの基本

ターミナル（Terminal）は、コンピュータと文字でやり取りする画面です。最初は「黒い画面」が怖く感じるかもしれませんが、慣れればマウスより素早く操作できる便利なツールです。

## ターミナルとは？

ターミナルは、コンピュータに「命令」を文字で伝えるためのアプリです。

### 身近な例で考えてみよう

**マウス操作（GUI）の場合：**

1. Finderを開く
2. フォルダをダブルクリック
3. ファイルを探す
4. ドラッグして移動

**ターミナル（CLI）の場合：**

```bash
cd フォルダ名    # フォルダに移動
ls             # ファイル一覧表示
mv ファイル名 移動先  # ファイル移動
```

最初はマウスの方が簡単に見えますが、ターミナルは「同じ操作を100回繰り返す」ような場合に圧倒的に効率的です。

## ターミナルの起動方法

### macOSの場合

1. **Spotlight検索を使う方法**（おすすめ）
   - `Command + Space`を押す
   - 「Terminal」または「ターミナル」と入力
   - Enterキーを押す

2. **アプリケーションフォルダから起動**
   - Finder → アプリケーション → ユーティリティ → ターミナル

## パスの概念

パスとは、ファイルやフォルダの「住所」のようなものです。

::: info
ディレクトリとフォルダは同じ意味です。ターミナルでは「ディレクトリ」と呼ぶことが多いですが、GUIでは「フォルダ」と呼ばれます。
:::

### 絶対パス

ルート（/）から始まる完全な住所

```bash
/Users/yourname/Desktop/myproject/main.py
```

### 相対パス

現在地からの道順

```bash
./main.py          # 現在のフォルダのmain.py
../Documents       # 一つ上のフォルダのDocuments
../../file.txt     # 二つ上のフォルダのfile.txt
```

### 特殊な記号

- `.` : 現在のフォルダ
- `..` : 一つ上のフォルダ
- `~` : ホームフォルダ（/Users/yourname）
- `/` : ルート（一番上）

## 最初に覚える6つのコマンド

### 1. pwd - 現在地を確認する

「今どこにいるか」を確認するコマンドです。

```bash
pwd
# 出力例: /Users/yourname
```

**覚え方**: Print Working Directory（作業ディレクトリを表示）

### 2. ls - ファイルとフォルダを見る

現在のフォルダ内にあるファイルとフォルダの一覧を表示します。

**覚え方**: List（リスト）の省略

```bash
ls
# 出力例:
# Desktop    Documents    Downloads    Pictures
```

**便利なオプション:**

```bash
ls -la    # 隠しファイルも含めて詳細表示
ls -l     # 詳細情報を表示（サイズ、更新日時など）
```

### 3. cd - フォルダを移動する

別のフォルダに移動するコマンドです。

```bash
cd Desktop           # Desktopフォルダに移動
cd ..               # 一つ上のフォルダに戻る
cd ~                # ホームフォルダに戻る
cd /                # ルート（一番上）に移動
```

**覚え方**: Change Directory（ディレクトリを変更）

### 4. mkdir - フォルダを作る

新しいフォルダを作成します。

```bash
mkdir myproject      # myprojectという名前のフォルダを作成
mkdir -p work/python # workフォルダの中にpythonフォルダを作成（-pは必要に応じて親フォルダも自動作成）
```

**`-p`オプションについて：**
通常、`mkdir work/python`を実行するには、先に`work`フォルダが存在している必要があります。
しかし`-p`オプションを使うと、存在しない親フォルダ（この例では`work`）も自動的に作成してくれます。

**覚え方**: Make Directory（ディレクトリを作る）

### 5. touch - ファイルを作る

新しい空のファイルを作成します。

```bash
touch README.md      # README.mdファイルを作成
touch main.py       # main.pyファイルを作成
```

### 6. rm - ファイルやフォルダを削除する

ファイルやフォルダを削除します。

```bash
rm file.txt         # file.txtを削除
rm -r folder        # folderとその中身をすべて削除
```

::: danger `rm`コマンドは非常に強力です
`rm`で削除したファイルやフォルダは、**ゴミ箱に入らずに完全に削除されます。** 元に戻すことはできません。

特に、`-rf`オプション (`rm -rf`) は、確認メッセージなしに強制的にすべてを削除するため、非常に危険です。実行する前に、自分がどのディレクトリにいるか(`pwd`)を必ず確認し、削除しようとしている対象が本当に正しいか、細心の注意を払ってください。
:::

## 実践例：プロジェクトフォルダを作る

新しいPythonプロジェクトを始める手順：

```bash
# 1. Desktopに移動
cd ~/Desktop

# 2. 現在地を確認
pwd
# 出力: /Users/yourname/Desktop

# 3. プロジェクト用のフォルダを作成
mkdir projects
cd projects

# 4. Pythonプロジェクトのフォルダを作成
mkdir my-first-app
cd my-first-app

# 5. 必要なファイルを作成
touch main.py
touch README.md

# 6. 作成されたファイルを確認
ls
# 出力: README.md    main.py
```

## エディタやFinderをcliで起動する

ターミナルでのファイル操作に慣れないうちは、無理にすべての操作をコマンドで完結させる必要はありません。
特に、ファイルの作成や削除(`mkdir`, `touch`, `rm`)は、最初のうちは普段使っているエディタやFinder（ファイルエクスプローラー）で行う方が直感的で安全です。

コマンド操作に詰まったときや、全体像を視覚的に確認したいときに、GUIツールを頼るのは非常に有効な手段です。
ここでは、ターミナルからVSCodeやFinderを直接開く便利なコマンドを紹介します。

### `code` - VSCodeで開く

::: info 事前準備

`code`コマンドを使うには、VSCodeで「Shell Command: Install 'code' command in PATH」を実行しておく必要があります。
(VSCodeのコマンドパレットで実行できます)
:::

VSCodeをインストールしている場合、`code`コマンドを使ってカレントディレクトリや特定のファイルを直接開くことができます。

```bash
# カレントディレクトリをVSCodeで開く
code .

# 特定のファイルを開く
code main.py

# 特定のフォルダを開く
code ../my-project
```

これにより、ターミナルで目的の場所に移動した後、すぐにエディタで作業を始められます。

### `open` - Finderやデフォルトアプリで開く

`open`コマンドは、macOSのFinderや、ファイルに対応するデフォルトのアプリケーションを起動するためのコマンドです。

```bash
# カレントディレクトリをFinderで開く
open .

# 特定のファイルをデフォルトのアプリで開く (例: .mdならテキストエディタ)
open README.md

# 画像ファイルを開く
open image.png
```

「コマンドで目的の場所まで来たけど、ここからどうすればいいか分からない…」という時に `open .` を実行すれば、
いつものFinderが開くので安心です。これを使えば、ターミナルの操作がわからない場合でも、GUIで直感的に操作を続けることができます。

## よくあるエラーと対処法

### 1. "No such file or directory"

```bash
cd myfoler
# -bash: cd: myfoler: No such file or directory
```

**原因**: フォルダ名が間違っている（この例では`myfoler`は`myfolder`のタイプミス）

**対処法**: `ls`で正しいフォルダ名を確認

### 2. "Permission denied"

```bash
rm /System/important-file
# rm: /System/important-file: Permission denied
```

**原因**: そのファイルを削除する権限がない

**対処法**: 本当に削除すべきファイルか確認（システムファイルは削除しない）

### 3. スペースを含むファイル名

```bash
cd My Documents     # エラー: Myというフォルダを探してしまう
cd "My Documents"   # 正解: ダブルクォートで囲む
cd My\ Documents    # 正解: バックスラッシュでエスケープ
```

## 便利な操作

### Tab補完

ファイル名やフォルダ名の途中で`Tab`キーを押すと、自動的に補完されます。

```bash
cd Des[Tab]    # cd Desktop に補完される
```

### 履歴の利用

- `↑`キー: 前のコマンドを表示
- `↓`キー: 次のコマンドを表示
- `history`: コマンド履歴を表示

### コマンドの中断

実行中のコマンドを中断したいとき：`Control + C`

## ターミナルでの作業フロー

典型的な作業の流れ：

```bash
# 1. 作業フォルダに移動
cd ~/Desktop/projects/my-app

# 2. 現在地と内容を確認
pwd
ls -la

# 3. 新しいファイルを作成
touch new_feature.py

# 4. 作業後、一つ上に戻る
cd ..
```

## 初心者へのアドバイス

### 安全に練習する方法

1. Desktop以下に適当なディレクトリを作ってその中で練習（ホームディレクトリでは少し危険です）
2. 重要なファイルはバックアップを取る
3. `rm`コマンドは慎重に使う
4. 分からないコマンドは実行前に調べる

## まとめ

ターミナルの基本コマンド：

- `pwd` : 現在地を表示
- `ls` : ファイル一覧
- `cd` : フォルダ移動
- `mkdir` : フォルダ作成
- `touch` : ファイル作成
- `rm` : 削除（要注意）

これらのコマンドさえ覚えれば、ターミナルでの基本的な操作は可能です。最初は怖く感じるかもしれませんが、使っているうちに必ず慣れます。マウスでできることはターミナルでもできる、と覚えておきましょう。

## 参考リンク

もっと詳しく知りたい方は以下のリンクを見たらわかりやすいです：

- [【完全版】Linuxコマンドチートシート](https://qiita.com/Tun/items/e8e2a4a5fab018d7f6cd)

ただし、上記の記事では `ls` コマンドを「list segments」の略としていますが、これは間違いです。正しくは「list」の略です。詳細は以下の記事をご確認ください：

- [ls コマンドは「list」の略、「list segments」は間違いだった](https://qiita.com/ko1nksm/items/ef0f83fe453620a5d705)

参考記事を読む際は、さまざまなところから調べたり、`man`コマンド（例：`man ls`）でマニュアルを確認したりして、情報を照らし合わせることをおすすめします。なお、もし記事が更新されて「list」に修正されていた場合は気にしないでください。
